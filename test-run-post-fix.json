
> cinematic-story-generator@0.0.0 test
> vitest --run --reporter=json

{"numTotalTestSuites":44,"numPassedTestSuites":44,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":107,"numPassedTests":107,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1763087298302,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt returns the shot description when no enhancers or vision are provided","status":"passed","title":"returns the shot description when no enhancers or vision are provided","duration":0.2173000000002503,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt appends creative enhancers in a readable format","status":"passed","title":"appends creative enhancers in a readable format","duration":0.19920000000001892,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt appends the director's vision at the end","status":"passed","title":"appends the director's vision at the end","duration":0.09320000000025175,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt orders description, enhancers, then director vision","status":"passed","title":"orders description, enhancers, then director vision","duration":0.186399999999594,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot queues a prompt and resolves with frame metadata","status":"passed","title":"queues a prompt and resolves with frame metadata","duration":2.2846999999992477,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot allows overriding the negative prompt per shot","status":"passed","title":"allows overriding the negative prompt per shot","duration":0.9333999999998923,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot propagates queueing errors and reports failure","status":"passed","title":"propagates queueing errors and reports failure","duration":0.8186999999998079,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos"],"fullName":"generateTimelineVideos processes each shot sequentially and returns results","status":"passed","title":"processes each shot sequentially and returns results","duration":1.5552999999999884,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos"],"fullName":"generateTimelineVideos continues after a shot fails and records an error placeholder","status":"passed","title":"continues after a shot fails and records an error placeholder","duration":0.967200000000048,"failureMessages":[],"meta":{}}],"startTime":1763087304080,"endTime":1763087304086.9673,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/comfyUIService.test.ts"},{"assertionResults":[{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate story idea can be expanded to a story bible","status":"passed","title":"should validate story idea can be expanded to a story bible","duration":0.6495999999997366,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate directors vision provides visual direction","status":"passed","title":"should validate directors vision provides visual direction","duration":0.19179999999960273,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate scene contains complete timeline data","status":"passed","title":"should validate scene contains complete timeline data","duration":0.2786999999998443,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should ensure all shots have required properties","status":"passed","title":"should ensure all shots have required properties","duration":0.5661999999992986,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should ensure all shots have enhancers defined","status":"passed","title":"should ensure all shots have enhancers defined","duration":0.27329999999983556,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate shot enhancers are properly structured","status":"passed","title":"should validate shot enhancers are properly structured","duration":0.341099999999642,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should match enhancer values to known categories","status":"passed","title":"should match enhancer values to known categories","duration":0.42709999999988213,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should support batch generation with multiple shots","status":"passed","title":"should support batch generation with multiple shots","duration":0.39869999999973516,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should maintain shot order in batch generation results","status":"passed","title":"should maintain shot order in batch generation results","duration":0.22880000000077416,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should support transitions between shots","status":"passed","title":"should support transitions between shots","duration":0.3143000000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should use negative prompt to exclude unwanted elements","status":"passed","title":"should use negative prompt to exclude unwanted elements","duration":0.19090000000051077,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should provide error recovery for failed shots","status":"passed","title":"should provide error recovery for failed shots","duration":0.1900999999998021,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should track generation progress for monitoring","status":"passed","title":"should track generation progress for monitoring","duration":0.2191000000002532,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate complete workflow data consistency","status":"passed","title":"should validate complete workflow data consistency","duration":0.3432999999995445,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle single-shot scenes","status":"passed","title":"should handle single-shot scenes","duration":0.18670000000020082,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle complex multi-shot scenes","status":"passed","title":"should handle complex multi-shot scenes","duration":0.42920000000049185,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle minimal enhancers","status":"passed","title":"should handle minimal enhancers","duration":0.1320000000005166,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle comprehensive enhancers","status":"passed","title":"should handle comprehensive enhancers","duration":0.10649999999986903,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should ensure story bible is coherent","status":"passed","title":"should ensure story bible is coherent","duration":0.1022000000002663,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should validate visual consistency across shots","status":"passed","title":"should validate visual consistency across shots","duration":0.1235000000006039,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should detect timing consistency","status":"passed","title":"should detect timing consistency","duration":0.24579999999969004,"failureMessages":[],"meta":{}}],"startTime":1763087304117,"endTime":1763087304122.4292,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/e2e.test.ts"},{"assertionResults":[{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls keeps the queued card until a queued event arrives even when execution_start fires first","status":"passed","title":"keeps the queued card until a queued event arrives even when execution_start fires first","duration":102.7493000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls surfaces final output after sequential lifecycle events","status":"passed","title":"surfaces final output after sequential lifecycle events","duration":62.86229999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls keeps low VRAM warnings in the queued card until an explicit queue event arrives","status":"passed","title":"keeps low VRAM warnings in the queued card until an explicit queue event arrives","duration":76.96410000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls shows an error card when queue status cannot be retrieved","status":"passed","title":"shows an error card when queue status cannot be retrieved","duration":31.256600000000617,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls surfaces queue polling failures and keeps the queued card pinned","status":"passed","title":"surfaces queue polling failures and keeps the queued card pinned","duration":31.914200000000164,"failureMessages":[],"meta":{}}],"startTime":1763087303564,"endTime":1763087303869.9143,"status":"passed","message":"","name":"C:/Dev/gemDirect1/components/__tests__/GenerationControls.test.tsx"},{"assertionResults":[{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration runs the full upload/prompt/ws harness and returns frames","status":"passed","title":"runs the full upload/prompt/ws harness and returns frames","duration":11.138500000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration throws when the /prompt endpoint returns an error","status":"passed","title":"throws when the /prompt endpoint returns an error","duration":7.326399999999921,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration supports video outputs with MP4 final data","status":"passed","title":"supports video outputs with MP4 final data","duration":1.7829000000001543,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration handles queue polling failures gracefully","status":"passed","title":"handles queue polling failures gracefully","duration":1.7130999999999403,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration waits for queue info to report empty before resolving","status":"passed","title":"waits for queue info to report empty before resolving","duration":1.8915999999999258,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration does not resolve until the queue drains even if WebSocket emits executed early","status":"passed","title":"does not resolve until the queue drains even if WebSocket emits executed early","duration":1.8240000000005239,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration waits for a queued update when execution_start precedes the queued status event","status":"passed","title":"waits for a queued update when execution_start precedes the queued status event","duration":1.8271000000004278,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration fails when the queue polling helper rejects before the queue drains","status":"passed","title":"fails when the queue polling helper rejects before the queue drains","duration":1.6688999999996668,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration surfaces queue endpoint failures before completion","status":"passed","title":"surfaces queue endpoint failures before completion","duration":1.7730000000001382,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration surfaces low VRAM warnings from the pre-flight checks","status":"passed","title":"surfaces low VRAM warnings from the pre-flight checks","duration":1.5590000000001965,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos integration"],"fullName":"generateTimelineVideos integration processes every shot via the shared harness and reports progress","status":"passed","title":"processes every shot via the shared harness and reports progress","duration":2.5850000000000364,"failureMessages":[],"meta":{}}],"startTime":1763087303926,"endTime":1763087303960.585,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/generateVideoFlow.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection resolves when server returns valid stats","status":"passed","title":"resolves when server returns valid stats","duration":0.6222999999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection throws when server responds with non-ok status","status":"passed","title":"throws when server responds with non-ok status","duration":0.3102000000008047,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection throws timeout errors specially","status":"passed","title":"throws timeout errors specially","duration":0.29070000000047,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources returns GPU stats when device exists","status":"passed","title":"returns GPU stats when device exists","duration":0.2655000000004293,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources warns when VRAM is low","status":"passed","title":"warns when VRAM is low","duration":0.2636000000002241,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources warns when no GPU is listed","status":"passed","title":"warns when no GPU is listed","duration":0.17699999999967986,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources reports timeout as a failure message","status":"passed","title":"reports timeout as a failure message","duration":0.18829999999979918,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources handles HTTP errors gracefully","status":"passed","title":"handles HTTP errors gracefully","duration":0.1665000000002692,"failureMessages":[],"meta":{}}],"startTime":1763087304177,"endTime":1763087304179.1882,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/preflight.test.ts"},{"assertionResults":[{"ancestorTitles":["queueComfyUIPrompt integration"],"fullName":"queueComfyUIPrompt integration uploads the keyframe and injects prompts into the workflow payload","status":"passed","title":"uploads the keyframe and injects prompts into the workflow payload","duration":1.4252999999998792,"failureMessages":[],"meta":{}}],"startTime":1763087304298,"endTime":1763087304299.4253,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/queueComfyUIPrompt.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline creates shot plans with prompts and context metadata","status":"passed","title":"creates shot plans with prompts and context metadata","duration":0.40679999999974825,"failureMessages":[],"meta":{}},{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline requests keyframes for every plan and strips data URL prefixes","status":"passed","title":"requests keyframes for every plan and strips data URL prefixes","duration":0.43549999999959255,"failureMessages":[],"meta":{}},{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline runs the full pipeline, merges keyframes, and calls timeline generation","status":"passed","title":"runs the full pipeline, merges keyframes, and calls timeline generation","duration":0.6216000000003987,"failureMessages":[],"meta":{}}],"startTime":1763087304221,"endTime":1763087304222.6216,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/sceneGenerationPipeline.test.ts"},{"assertionResults":[{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports queue status updates","status":"passed","title":"reports queue status updates","duration":1.1760999999996784,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports execution progress and node titles","status":"passed","title":"reports execution progress and node titles","duration":0.7417999999997846,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution handles execution errors","status":"passed","title":"handles execution errors","duration":0.36229999999977736,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports completion without outputs","status":"passed","title":"reports completion without outputs","duration":0.30490000000008877,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports websocket connection errors","status":"passed","title":"reports websocket connection errors","duration":1.0654999999997017,"failureMessages":[],"meta":{}}],"startTime":1763087304150,"endTime":1763087304154.0654,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/trackPromptExecution.test.ts"},{"assertionResults":[{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings passes when required mappings exist","status":"passed","title":"passes when required mappings exist","duration":0.24650000000019645,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when the main text prompt mapping is missing","status":"passed","title":"throws when the main text prompt mapping is missing","duration":0.3816999999999098,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when the keyframe image mapping is missing","status":"passed","title":"throws when the keyframe image mapping is missing","duration":0.26050000000032014,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when a mapped node no longer exists","status":"passed","title":"throws when a mapped node no longer exists","duration":0.4198000000005777,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when a mapped input is not available on the node","status":"passed","title":"throws when a mapped input is not available on the node","duration":0.4507999999996173,"failureMessages":[],"meta":{}}],"startTime":1763087304231,"endTime":1763087304233.4507,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/validateWorkflowAndMappings.test.ts"},{"assertionResults":[{"ancestorTitles":["generate-done-markers sentinel (integration)"],"fullName":"generate-done-markers sentinel (integration) creates a .done marker for a stable sequence (RunOnce)","status":"passed","title":"creates a .done marker for a stable sequence (RunOnce)","duration":776.7786999999998,"failureMessages":[],"meta":{}}],"startTime":1763087302393,"endTime":1763087303169.7788,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/done-marker.test.ts"},{"assertionResults":[{"ancestorTitles":[],"fullName":"queue-real-workflow.ps1 includes frame stability verification","status":"passed","title":"queue-real-workflow.ps1 includes frame stability verification","duration":0.20710000000053697,"failureMessages":[],"meta":{}}],"startTime":1763087304386,"endTime":1763087304386.207,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/frameStability.test.ts"},{"assertionResults":[{"ancestorTitles":["queue-real-workflow frame selection"],"fullName":"queue-real-workflow frame selection prefers the most recently updated output directory and logs chosen outputDir","status":"passed","title":"prefers the most recently updated output directory and logs chosen outputDir","duration":0.4625000000005457,"failureMessages":[],"meta":{}}],"startTime":1763087304339,"endTime":1763087304339.4624,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/queueFrameSelection.test.ts"},{"assertionResults":[{"ancestorTitles":["run-comfyui-e2e.ps1 safety guard"],"fullName":"run-comfyui-e2e.ps1 safety guard contains a process Path verification before Stop-Process","status":"passed","title":"contains a process Path verification before Stop-Process","duration":22.902099999999336,"failureMessages":[],"meta":{}}],"startTime":1763087304348,"endTime":1763087304370.902,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/stopProcessGuard.test.ts"},{"assertionResults":[{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers selects fallback scenes when no LLM response is provided","status":"passed","title":"selects fallback scenes when no LLM response is provided","duration":0.2731999999996333,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers builds story payload from LLM response when available","status":"passed","title":"builds story payload from LLM response when available","duration":0.4257999999999811,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers creates a fallback keyframe when preferred sample is missing","status":"passed","title":"creates a fallback keyframe when preferred sample is missing","duration":2.6426000000001295,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers writes scene/keyframe assets to the run directory","status":"passed","title":"writes scene/keyframe assets to the run directory","duration":12.64260000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers includes llm metadata even when falling back to deterministic story","status":"passed","title":"includes llm metadata even when falling back to deterministic story","duration":0.5174999999999272,"failureMessages":[],"meta":{}}],"startTime":1763087304034,"endTime":1763087304050.5176,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/storyGenerator.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation uses nvidia-smi fallback note when /system_stats missing and gpu indicates fallback","status":"passed","title":"uses nvidia-smi fallback note when /system_stats missing and gpu indicates fallback","duration":0.4430999999995038,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation reports unavailable when no gpu fallback present","status":"passed","title":"reports unavailable when no gpu fallback present","duration":0.15599999999994907,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation reports missing VRAM with nvidia-smi when system present but VRAM missing","status":"passed","title":"reports missing VRAM with nvidia-smi when system present but VRAM missing","duration":0.14549999999962893,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation returns empty notes when no fallbacks are needed","status":"passed","title":"returns empty notes when no fallbacks are needed","duration":0.08930000000054861,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes frame stability warnings when provided","status":"passed","title":"includes frame stability warnings when provided","duration":0.10930000000007567,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes forced copy note when provided","status":"passed","title":"includes forced copy note when provided","duration":0.10030000000006112,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes done marker warnings when provided","status":"passed","title":"includes done marker warnings when provided","duration":0.10559999999986758,"failureMessages":[],"meta":{}}],"startTime":1763087304275,"endTime":1763087304276.1057,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-fallback.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags missing GPU object","status":"passed","title":"flags missing GPU object","duration":0.25540000000000873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags missing System object","status":"passed","title":"flags missing System object","duration":0.1352999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags non-array FallbackNotes","status":"passed","title":"flags non-array FallbackNotes","duration":0.1323000000002139,"failureMessages":[],"meta":{}}],"startTime":1763087304319,"endTime":1763087304320.1353,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-negative-fields.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) accepts a valid telemetry payload","status":"passed","title":"accepts a valid telemetry payload","duration":0.5045000000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) rejects missing DurationSeconds","status":"passed","title":"rejects missing DurationSeconds","duration":0.21600000000034925,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) requires ExecutionSuccessAt when ExecutionSuccessDetected=true","status":"passed","title":"requires ExecutionSuccessAt when ExecutionSuccessDetected=true","duration":0.18389999999999418,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) validates HistoryExitReason enum","status":"passed","title":"validates HistoryExitReason enum","duration":0.15999999999985448,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) rejects non-numeric GPU VRAM fields","status":"passed","title":"rejects non-numeric GPU VRAM fields","duration":0.17749999999978172,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) detects inconsistent VramDeltaMB","status":"passed","title":"detects inconsistent VramDeltaMB","duration":0.15229999999974098,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) requires System.FallbackNotes to be an array of strings","status":"passed","title":"requires System.FallbackNotes to be an array of strings","duration":0.14980000000014115,"failureMessages":[],"meta":{}}],"startTime":1763087304258,"endTime":1763087304260.1523,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-shape.test.ts"},{"assertionResults":[{"ancestorTitles":[],"fullName":"queue-real-workflow.ps1 contains required telemetry field names","status":"passed","title":"queue-real-workflow.ps1 contains required telemetry field names","duration":0.35719999999946594,"failureMessages":[],"meta":{}}],"startTime":1763087304379,"endTime":1763087304379.3572,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetryContractFields.test.ts"},{"assertionResults":[{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 passes when telemetry exists for each scene","status":"passed","title":"passes when telemetry exists for each scene","duration":388.11419999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when telemetry is missing from artifact metadata","status":"passed","title":"fails when telemetry is missing from artifact metadata","duration":353.10799999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when pollLimit text does not match metadata","status":"passed","title":"fails when pollLimit text does not match metadata","duration":393.2240999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when fallback notes lack matching warnings in run-summary","status":"passed","title":"fails when fallback notes lack matching warnings in run-summary","duration":372.4509999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 passes when fallback warnings are logged alongside metadata notes","status":"passed","title":"passes when fallback warnings are logged alongside metadata notes","duration":371.1192000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when SceneRetryBudget text does not match metadata","status":"passed","title":"fails when SceneRetryBudget text does not match metadata","duration":369.41409999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when VRAMBeforeMB entry is missing from telemetry summary","status":"passed","title":"fails when VRAMBeforeMB entry is missing from telemetry summary","duration":369.9773,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when reported VRAM delta differs from MB before/after difference","status":"passed","title":"fails when reported VRAM delta differs from MB before/after difference","duration":368.30340000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when queue policy values do not match metadata","status":"passed","title":"fails when queue policy values do not match metadata","duration":368.5873999999999,"failureMessages":[],"meta":{}}],"startTime":1763087299016,"endTime":1763087302372.5874,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/validateRunSummary.test.ts"},{"assertionResults":[{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher replaces keyframe and scene metadata placeholders","status":"passed","title":"replaces keyframe and scene metadata placeholders","duration":0.40350000000034925,"failureMessages":[],"meta":{}},{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher does not mutate the original workflow template","status":"passed","title":"does not mutate the original workflow template","duration":0.12729999999919528,"failureMessages":[],"meta":{}},{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher handles templates missing optional nodes without throwing","status":"passed","title":"handles templates missing optional nodes without throwing","duration":0.19660000000021682,"failureMessages":[],"meta":{}}],"startTime":1763087304311,"endTime":1763087304312.1965,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/workflowPatcher.test.ts"}]}
