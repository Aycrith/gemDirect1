
> cinematic-story-generator@0.0.0 test
> vitest --run --reporter=json

{"numTotalTestSuites":44,"numPassedTestSuites":44,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":107,"numPassedTests":107,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1763086001189,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt returns the shot description when no enhancers or vision are provided","status":"passed","title":"returns the shot description when no enhancers or vision are provided","duration":0.15520000000014988,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt appends creative enhancers in a readable format","status":"passed","title":"appends creative enhancers in a readable format","duration":0.16960000000017317,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt appends the director's vision at the end","status":"passed","title":"appends the director's vision at the end","duration":0.09010000000034779,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildShotPrompt"],"fullName":"buildShotPrompt orders description, enhancers, then director vision","status":"passed","title":"orders description, enhancers, then director vision","duration":0.16460000000006403,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot queues a prompt and resolves with frame metadata","status":"passed","title":"queues a prompt and resolves with frame metadata","duration":1.9704000000001543,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot allows overriding the negative prompt per shot","status":"passed","title":"allows overriding the negative prompt per shot","duration":0.8910999999998239,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot"],"fullName":"generateVideoFromShot propagates queueing errors and reports failure","status":"passed","title":"propagates queueing errors and reports failure","duration":1.0870999999997366,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos"],"fullName":"generateTimelineVideos processes each shot sequentially and returns results","status":"passed","title":"processes each shot sequentially and returns results","duration":1.5050000000001091,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos"],"fullName":"generateTimelineVideos continues after a shot fails and records an error placeholder","status":"passed","title":"continues after a shot fails and records an error placeholder","duration":1.0505000000002838,"failureMessages":[],"meta":{}}],"startTime":1763086007246,"endTime":1763086007253.0505,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/comfyUIService.test.ts"},{"assertionResults":[{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate story idea can be expanded to a story bible","status":"passed","title":"should validate story idea can be expanded to a story bible","duration":0.6868000000004031,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate directors vision provides visual direction","status":"passed","title":"should validate directors vision provides visual direction","duration":0.21599999999943975,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate scene contains complete timeline data","status":"passed","title":"should validate scene contains complete timeline data","duration":0.270900000000438,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should ensure all shots have required properties","status":"passed","title":"should ensure all shots have required properties","duration":0.42999999999938154,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should ensure all shots have enhancers defined","status":"passed","title":"should ensure all shots have enhancers defined","duration":0.2523000000001048,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate shot enhancers are properly structured","status":"passed","title":"should validate shot enhancers are properly structured","duration":0.2974999999996726,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should match enhancer values to known categories","status":"passed","title":"should match enhancer values to known categories","duration":0.4980999999997948,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should support batch generation with multiple shots","status":"passed","title":"should support batch generation with multiple shots","duration":0.4297999999998865,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should maintain shot order in batch generation results","status":"passed","title":"should maintain shot order in batch generation results","duration":0.23520000000007713,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should support transitions between shots","status":"passed","title":"should support transitions between shots","duration":0.31750000000010914,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should use negative prompt to exclude unwanted elements","status":"passed","title":"should use negative prompt to exclude unwanted elements","duration":0.1945000000005166,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should provide error recovery for failed shots","status":"passed","title":"should provide error recovery for failed shots","duration":0.19610000000011496,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should track generation progress for monitoring","status":"passed","title":"should track generation progress for monitoring","duration":0.2267999999994572,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Story to Video Generation Pipeline"],"fullName":"E2E: Story to Video Generation Pipeline should validate complete workflow data consistency","status":"passed","title":"should validate complete workflow data consistency","duration":0.3489999999992506,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle single-shot scenes","status":"passed","title":"should handle single-shot scenes","duration":0.20089999999981956,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle complex multi-shot scenes","status":"passed","title":"should handle complex multi-shot scenes","duration":0.4414999999999054,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle minimal enhancers","status":"passed","title":"should handle minimal enhancers","duration":0.1364000000003216,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Workflow Variations"],"fullName":"E2E: Workflow Variations should handle comprehensive enhancers","status":"passed","title":"should handle comprehensive enhancers","duration":0.11489999999957945,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should ensure story bible is coherent","status":"passed","title":"should ensure story bible is coherent","duration":0.10579999999936263,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should validate visual consistency across shots","status":"passed","title":"should validate visual consistency across shots","duration":0.3250000000007276,"failureMessages":[],"meta":{}},{"ancestorTitles":["E2E: Quality Assurance"],"fullName":"E2E: Quality Assurance should detect timing consistency","status":"passed","title":"should detect timing consistency","duration":0.2128999999995358,"failureMessages":[],"meta":{}}],"startTime":1763086007283,"endTime":1763086007289.325,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/e2e.test.ts"},{"assertionResults":[{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls keeps the queued card until a queued event arrives even when execution_start fires first","status":"passed","title":"keeps the queued card until a queued event arrives even when execution_start fires first","duration":91.99240000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls surfaces final output after sequential lifecycle events","status":"passed","title":"surfaces final output after sequential lifecycle events","duration":62.546400000000176,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls keeps low VRAM warnings in the queued card until an explicit queue event arrives","status":"passed","title":"keeps low VRAM warnings in the queued card until an explicit queue event arrives","duration":77.54689999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls shows an error card when queue status cannot be retrieved","status":"passed","title":"shows an error card when queue status cannot be retrieved","duration":16.44640000000072,"failureMessages":[],"meta":{}},{"ancestorTitles":["GenerationControls"],"fullName":"GenerationControls surfaces queue polling failures and keeps the queued card pinned","status":"passed","title":"surfaces queue polling failures and keeps the queued card pinned","duration":31.713999999999942,"failureMessages":[],"meta":{}}],"startTime":1763086006753,"endTime":1763086007032.714,"status":"passed","message":"","name":"C:/Dev/gemDirect1/components/__tests__/GenerationControls.test.tsx"},{"assertionResults":[{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration runs the full upload/prompt/ws harness and returns frames","status":"passed","title":"runs the full upload/prompt/ws harness and returns frames","duration":10.918799999999464,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration throws when the /prompt endpoint returns an error","status":"passed","title":"throws when the /prompt endpoint returns an error","duration":7.8158000000003085,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration supports video outputs with MP4 final data","status":"passed","title":"supports video outputs with MP4 final data","duration":1.801100000000588,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration handles queue polling failures gracefully","status":"passed","title":"handles queue polling failures gracefully","duration":1.6983000000000175,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration waits for queue info to report empty before resolving","status":"passed","title":"waits for queue info to report empty before resolving","duration":1.9114999999992506,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration does not resolve until the queue drains even if WebSocket emits executed early","status":"passed","title":"does not resolve until the queue drains even if WebSocket emits executed early","duration":3.351300000000265,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration waits for a queued update when execution_start precedes the queued status event","status":"passed","title":"waits for a queued update when execution_start precedes the queued status event","duration":1.7450000000008004,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration fails when the queue polling helper rejects before the queue drains","status":"passed","title":"fails when the queue polling helper rejects before the queue drains","duration":1.551300000000083,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration surfaces queue endpoint failures before completion","status":"passed","title":"surfaces queue endpoint failures before completion","duration":1.75,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateVideoFromShot integration"],"fullName":"generateVideoFromShot integration surfaces low VRAM warnings from the pre-flight checks","status":"passed","title":"surfaces low VRAM warnings from the pre-flight checks","duration":1.6403999999993175,"failureMessages":[],"meta":{}},{"ancestorTitles":["generateTimelineVideos integration"],"fullName":"generateTimelineVideos integration processes every shot via the shared harness and reports progress","status":"passed","title":"processes every shot via the shared harness and reports progress","duration":2.4025000000001455,"failureMessages":[],"meta":{}}],"startTime":1763086007089,"endTime":1763086007125.4026,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/generateVideoFlow.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection resolves when server returns valid stats","status":"passed","title":"resolves when server returns valid stats","duration":0.8184000000001106,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection throws when server responds with non-ok status","status":"passed","title":"throws when server responds with non-ok status","duration":0.36740000000008877,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkServerConnection"],"fullName":"checkServerConnection throws timeout errors specially","status":"passed","title":"throws timeout errors specially","duration":0.3330000000005384,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources returns GPU stats when device exists","status":"passed","title":"returns GPU stats when device exists","duration":0.29950000000008004,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources warns when VRAM is low","status":"passed","title":"warns when VRAM is low","duration":0.2566999999999098,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources warns when no GPU is listed","status":"passed","title":"warns when no GPU is listed","duration":0.20850000000064028,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources reports timeout as a failure message","status":"passed","title":"reports timeout as a failure message","duration":0.2142999999996391,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSystemResources"],"fullName":"checkSystemResources handles HTTP errors gracefully","status":"passed","title":"handles HTTP errors gracefully","duration":0.18850000000020373,"failureMessages":[],"meta":{}}],"startTime":1763086007341,"endTime":1763086007344.2144,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/preflight.test.ts"},{"assertionResults":[{"ancestorTitles":["queueComfyUIPrompt integration"],"fullName":"queueComfyUIPrompt integration uploads the keyframe and injects prompts into the workflow payload","status":"passed","title":"uploads the keyframe and injects prompts into the workflow payload","duration":1.149000000000342,"failureMessages":[],"meta":{}}],"startTime":1763086007464,"endTime":1763086007465.149,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/queueComfyUIPrompt.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline creates shot plans with prompts and context metadata","status":"passed","title":"creates shot plans with prompts and context metadata","duration":0.4492000000000189,"failureMessages":[],"meta":{}},{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline requests keyframes for every plan and strips data URL prefixes","status":"passed","title":"requests keyframes for every plan and strips data URL prefixes","duration":0.4642999999996391,"failureMessages":[],"meta":{}},{"ancestorTitles":["sceneGenerationPipeline"],"fullName":"sceneGenerationPipeline runs the full pipeline, merges keyframes, and calls timeline generation","status":"passed","title":"runs the full pipeline, merges keyframes, and calls timeline generation","duration":0.6694999999999709,"failureMessages":[],"meta":{}}],"startTime":1763086007386,"endTime":1763086007387.6694,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/sceneGenerationPipeline.test.ts"},{"assertionResults":[{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports queue status updates","status":"passed","title":"reports queue status updates","duration":1.2893999999996595,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports execution progress and node titles","status":"passed","title":"reports execution progress and node titles","duration":0.7394000000003871,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution handles execution errors","status":"passed","title":"handles execution errors","duration":0.3753000000006068,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports completion without outputs","status":"passed","title":"reports completion without outputs","duration":0.34790000000066357,"failureMessages":[],"meta":{}},{"ancestorTitles":["trackPromptExecution"],"fullName":"trackPromptExecution reports websocket connection errors","status":"passed","title":"reports websocket connection errors","duration":1.1545999999998457,"failureMessages":[],"meta":{}}],"startTime":1763086007314,"endTime":1763086007318.1545,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/trackPromptExecution.test.ts"},{"assertionResults":[{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings passes when required mappings exist","status":"passed","title":"passes when required mappings exist","duration":0.3239000000003216,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when the main text prompt mapping is missing","status":"passed","title":"throws when the main text prompt mapping is missing","duration":0.39949999999953434,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when the keyframe image mapping is missing","status":"passed","title":"throws when the keyframe image mapping is missing","duration":0.2934000000004744,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when a mapped node no longer exists","status":"passed","title":"throws when a mapped node no longer exists","duration":0.2599999999993088,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateWorkflowAndMappings"],"fullName":"validateWorkflowAndMappings throws when a mapped input is not available on the node","status":"passed","title":"throws when a mapped input is not available on the node","duration":0.3000999999994747,"failureMessages":[],"meta":{}}],"startTime":1763086007411,"endTime":1763086007412.3,"status":"passed","message":"","name":"C:/Dev/gemDirect1/services/__tests__/validateWorkflowAndMappings.test.ts"},{"assertionResults":[{"ancestorTitles":["generate-done-markers sentinel (integration)"],"fullName":"generate-done-markers sentinel (integration) creates a .done marker for a stable sequence (RunOnce)","status":"passed","title":"creates a .done marker for a stable sequence (RunOnce)","duration":838.3835000000008,"failureMessages":[],"meta":{}}],"startTime":1763086005494,"endTime":1763086006332.3835,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/done-marker.test.ts"},{"assertionResults":[{"ancestorTitles":[],"fullName":"queue-real-workflow.ps1 includes frame stability verification","status":"passed","title":"queue-real-workflow.ps1 includes frame stability verification","duration":0.21199999999953434,"failureMessages":[],"meta":{}}],"startTime":1763086007523,"endTime":1763086007523.212,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/frameStability.test.ts"},{"assertionResults":[{"ancestorTitles":["queue-real-workflow frame selection"],"fullName":"queue-real-workflow frame selection prefers the most recently updated output directory and logs chosen outputDir","status":"passed","title":"prefers the most recently updated output directory and logs chosen outputDir","duration":0.5432999999993626,"failureMessages":[],"meta":{}}],"startTime":1763086007507,"endTime":1763086007507.5432,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/queueFrameSelection.test.ts"},{"assertionResults":[{"ancestorTitles":["run-comfyui-e2e.ps1 safety guard"],"fullName":"run-comfyui-e2e.ps1 safety guard contains a process Path verification before Stop-Process","status":"passed","title":"contains a process Path verification before Stop-Process","duration":0.468300000000454,"failureMessages":[],"meta":{}}],"startTime":1763086007484,"endTime":1763086007484.4683,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/stopProcessGuard.test.ts"},{"assertionResults":[{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers selects fallback scenes when no LLM response is provided","status":"passed","title":"selects fallback scenes when no LLM response is provided","duration":0.28510000000005675,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers builds story payload from LLM response when available","status":"passed","title":"builds story payload from LLM response when available","duration":0.4135000000005675,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers creates a fallback keyframe when preferred sample is missing","status":"passed","title":"creates a fallback keyframe when preferred sample is missing","duration":2.4414999999999054,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers writes scene/keyframe assets to the run directory","status":"passed","title":"writes scene/keyframe assets to the run directory","duration":12.8708000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["story generator helpers"],"fullName":"story generator helpers includes llm metadata even when falling back to deterministic story","status":"passed","title":"includes llm metadata even when falling back to deterministic story","duration":0.6742000000003827,"failureMessages":[],"meta":{}}],"startTime":1763086007199,"endTime":1763086007216.6743,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/storyGenerator.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation uses nvidia-smi fallback note when /system_stats missing and gpu indicates fallback","status":"passed","title":"uses nvidia-smi fallback note when /system_stats missing and gpu indicates fallback","duration":0.37479999999959546,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation reports unavailable when no gpu fallback present","status":"passed","title":"reports unavailable when no gpu fallback present","duration":0.2769000000007509,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation reports missing VRAM with nvidia-smi when system present but VRAM missing","status":"passed","title":"reports missing VRAM with nvidia-smi when system present but VRAM missing","duration":0.1610000000000582,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation returns empty notes when no fallbacks are needed","status":"passed","title":"returns empty notes when no fallbacks are needed","duration":0.09949999999935244,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes frame stability warnings when provided","status":"passed","title":"includes frame stability warnings when provided","duration":0.1124999999992724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes forced copy note when provided","status":"passed","title":"includes forced copy note when provided","duration":0.1168999999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry fallback-note generation"],"fullName":"Telemetry fallback-note generation includes done marker warnings when provided","status":"passed","title":"includes done marker warnings when provided","duration":0.11500000000069122,"failureMessages":[],"meta":{}}],"startTime":1763086007401,"endTime":1763086007402.117,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-fallback.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags missing GPU object","status":"passed","title":"flags missing GPU object","duration":0.2944999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags missing System object","status":"passed","title":"flags missing System object","duration":0.14400000000023283,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry negative-field validator (basic checks)"],"fullName":"Telemetry negative-field validator (basic checks) flags non-array FallbackNotes","status":"passed","title":"flags non-array FallbackNotes","duration":0.16240000000016153,"failureMessages":[],"meta":{}}],"startTime":1763086007473,"endTime":1763086007473.2944,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-negative-fields.test.ts"},{"assertionResults":[{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) accepts a valid telemetry payload","status":"passed","title":"accepts a valid telemetry payload","duration":0.5308999999997468,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) rejects missing DurationSeconds","status":"passed","title":"rejects missing DurationSeconds","duration":0.20890000000053988,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) requires ExecutionSuccessAt when ExecutionSuccessDetected=true","status":"passed","title":"requires ExecutionSuccessAt when ExecutionSuccessDetected=true","duration":0.17109999999956926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) validates HistoryExitReason enum","status":"passed","title":"validates HistoryExitReason enum","duration":0.15380000000004657,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) rejects non-numeric GPU VRAM fields","status":"passed","title":"rejects non-numeric GPU VRAM fields","duration":0.15499999999974534,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) detects inconsistent VramDeltaMB","status":"passed","title":"detects inconsistent VramDeltaMB","duration":0.14570000000003347,"failureMessages":[],"meta":{}},{"ancestorTitles":["Telemetry shape validation (exhaustive)"],"fullName":"Telemetry shape validation (exhaustive) requires System.FallbackNotes to be an array of strings","status":"passed","title":"requires System.FallbackNotes to be an array of strings","duration":0.14980000000014115,"failureMessages":[],"meta":{}}],"startTime":1763086007440,"endTime":1763086007441.1711,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetry-shape.test.ts"},{"assertionResults":[{"ancestorTitles":[],"fullName":"queue-real-workflow.ps1 contains required telemetry field names","status":"passed","title":"queue-real-workflow.ps1 contains required telemetry field names","duration":0.40169999999943684,"failureMessages":[],"meta":{}}],"startTime":1763086007515,"endTime":1763086007515.4016,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/telemetryContractFields.test.ts"},{"assertionResults":[{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 passes when telemetry exists for each scene","status":"passed","title":"passes when telemetry exists for each scene","duration":399.1929,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when telemetry is missing from artifact metadata","status":"passed","title":"fails when telemetry is missing from artifact metadata","duration":363.9226000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when pollLimit text does not match metadata","status":"passed","title":"fails when pollLimit text does not match metadata","duration":386.9705999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when fallback notes lack matching warnings in run-summary","status":"passed","title":"fails when fallback notes lack matching warnings in run-summary","duration":393.7026000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 passes when fallback warnings are logged alongside metadata notes","status":"passed","title":"passes when fallback warnings are logged alongside metadata notes","duration":399.8669,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when SceneRetryBudget text does not match metadata","status":"passed","title":"fails when SceneRetryBudget text does not match metadata","duration":397.5948000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when VRAMBeforeMB entry is missing from telemetry summary","status":"passed","title":"fails when VRAMBeforeMB entry is missing from telemetry summary","duration":403.4911000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when reported VRAM delta differs from MB before/after difference","status":"passed","title":"fails when reported VRAM delta differs from MB before/after difference","duration":397.1205,"failureMessages":[],"meta":{}},{"ancestorTitles":["validate-run-summary.ps1"],"fullName":"validate-run-summary.ps1 fails when queue policy values do not match metadata","status":"passed","title":"fails when queue policy values do not match metadata","duration":404.8372999999997,"failureMessages":[],"meta":{}}],"startTime":1763086001921,"endTime":1763086005469.8374,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/validateRunSummary.test.ts"},{"assertionResults":[{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher replaces keyframe and scene metadata placeholders","status":"passed","title":"replaces keyframe and scene metadata placeholders","duration":0.36349999999947613,"failureMessages":[],"meta":{}},{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher does not mutate the original workflow template","status":"passed","title":"does not mutate the original workflow template","duration":0.12770000000000437,"failureMessages":[],"meta":{}},{"ancestorTitles":["workflow patcher"],"fullName":"workflow patcher handles templates missing optional nodes without throwing","status":"passed","title":"handles templates missing optional nodes without throwing","duration":0.1691000000000713,"failureMessages":[],"meta":{}}],"startTime":1763086007498,"endTime":1763086007499.1692,"status":"passed","message":"","name":"C:/Dev/gemDirect1/scripts/__tests__/workflowPatcher.test.ts"}]}
